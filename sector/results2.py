import numpy as np


def analyse(datas, dicname='testdic'):
    precs = []
    recs = []
    f1s = []
    baccs = []
    for data in datas:
        precs.append(data['prec'])
        recs.append(data['rec'])
        f1s.append(data['f1'])
        baccs.append(data['bacc'])
    return precs, recs, f1s, baccs


def get_max_fs_by_2list(raw1, raw2):
    _, _, f1, _ = analyse(raw1)
    _, _, f2, _ = analyse(raw2)
    return [max(a, b) for a, b in zip(f1, f2)]


def get_max_fs_by_mess_list(raw1):
    _, _, f1_f2, _ = analyse(raw1)
    return [max(a, b) for a, b in zip(f1_f2[0::2], f1_f2[1::2])]


def get_max_fs_by_mess3(raw1):
    _, _, f123, _ = analyse(raw1)
    return [
        max(a, b, c) for a, b, c in zip(f123[0::3], f123[1::3], f123[2::3])
    ]


# ============= 辅助函数 ================

standard_cls_2vs2_early = [{
    'prec': 0.7576866764275256,
    'rec': 0.6456643792888335,
    'f1': 0.6972044459413944,
    'bacc': 0.774069667546597,
    'index': 1,
    'valid_loss': 2013.1536898463964
}, {
    'prec': 0.7081545064377682,
    'rec': 0.7205240174672489,
    'f1': 0.7142857142857142,
    'bacc': 0.7901382609434064,
    'index': 1,
    'valid_loss': 1974.137339234352
}, {
    'prec': 0.7400673400673401,
    'rec': 0.6855895196506551,
    'f1': 0.7117875647668396,
    'bacc': 0.7859297038441844,
    'index': 1,
    'valid_loss': 2088.899380683899
}, {
    'prec':
    0.7615499254843517,
    'rec':
    0.6375545851528385,
    'f1':
    0.6940577249575552,
    'bacc':
    0.7716352772552643,
    'index':
    0,
    'valid_loss':
    2020.6016175150871,
    'valid_losses':
    [2020.6016175150871, 2094.7059876322746, 2082.020057745278],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.7873376623376623,
    'rec':
    0.6051154086088584,
    'f1':
    0.6843033509700176,
    'bacc':
    0.7639601792602335,
    'index':
    1,
    'valid_loss':
    2022.9384071528912,
    'valid_losses':
    [2990.682630300522, 2022.9384071528912, 2026.8345611840487],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.8434093161546086,
    'rec':
    0.5308796007485964,
    'f1':
    0.6516079632465545,
    'bacc':
    0.742163430309478,
    'index':
    1,
    'valid_loss':
    2073.5598040521145,
    'valid_losses': [2523.514703154564, 2073.5598040521145, 2179.222513630986],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.732706514439221,
    'rec':
    0.6805988771054273,
    'f1':
    0.7056921086675291,
    'bacc':
    0.7816665569970271,
    'index':
    1,
    'valid_loss':
    1989.4620082229376,
    'valid_losses': [2065.730595856905, 1989.4620082229376, 2357.928140513599],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.7562544674767692,
    'rec':
    0.6600124766063631,
    'f1':
    0.7048634243837442,
    'bacc':
    0.7797705282265758,
    'index':
    1,
    'valid_loss':
    2001.6503214389086,
    'valid_losses':
    [2062.7921532690525, 2001.6503214389086, 2158.926869429648],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.8140350877192982,
    'rec':
    0.578914535246413,
    'f1':
    0.6766314254465913,
    'bacc':
    0.7582256824729413,
    'index':
    1,
    'valid_loss':
    2051.5572706237435,
    'valid_losses':
    [2107.7913143634796, 2051.5572706237435, 2087.214514002204],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.7065152420800956,
    'rec':
    0.7373674360573924,
    'f1':
    0.7216117216117217,
    'bacc':
    0.796350188270299,
    'index':
    1,
    'valid_loss':
    2036.3661597371101,
    'valid_losses':
    [2180.4793668687344, 2036.3661597371101, 2191.5274894982576],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.7489481065918654,
    'rec':
    0.6662507797878977,
    'f1':
    0.705183228788379,
    'bacc':
    0.7803852602534067,
    'index':
    0,
    'valid_loss':
    2038.3954220414162,
    'valid_losses': [2038.3954220414162, 2077.291493281722, 2247.473037019372],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.7771084337349398,
    'rec':
    0.6437928883343731,
    'f1':
    0.7041965199590584,
    'bacc':
    0.7782900799951182,
    'index':
    1,
    'valid_loss':
    1975.806840479374,
    'valid_losses': [2125.508185148239, 1975.806840479374, 2169.2059966921806],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.7291139240506329,
    'rec':
    0.7186525265127885,
    'f1':
    0.7238454288407163,
    'bacc':
    0.7962738177643495,
    'index':
    1,
    'valid_loss':
    1931.3728781342506,
    'valid_losses':
    [2087.621841609478, 1931.3728781342506, 2015.6313183009624],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.763595166163142,
    'rec':
    0.6306924516531504,
    'f1':
    0.6908097027673387,
    'bacc':
    0.7692354420905705,
    'index':
    0,
    'valid_loss':
    2040.4531159102917,
    'valid_losses':
    [2040.4531159102917, 2090.1219539493322, 2291.856302663684],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.6668466522678186,
    'rec':
    0.7704304429195259,
    'f1':
    0.7149059334298119,
    'bacc':
    0.7943195231686611,
    'index':
    0,
    'valid_loss':
    2036.0817962288857,
    'valid_losses': [2036.0817962288857, 2118.413713261485, 2051.535519309342],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.7721617418351477,
    'rec':
    0.619463505926388,
    'f1':
    0.6874350986500519,
    'bacc':
    0.7665673451847614,
    'index':
    1,
    'valid_loss':
    2009.0808644741774,
    'valid_losses':
    [2095.7296721339226, 2009.0808644741774, 2323.8955681324005],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.6870359794403198,
    'rec':
    0.7504678727386151,
    'f1':
    0.7173524150268337,
    'bacc':
    0.7945032351318297,
    'index':
    2,
    'valid_loss':
    2156.5195315033197,
    'valid_losses':
    [2355.1862604022026, 2186.691000163555, 2156.5195315033197],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.7829209896249002,
    'rec':
    0.6119775421085465,
    'f1':
    0.6869747899159665,
    'bacc':
    0.7659180580312915,
    'index':
    1,
    'valid_loss':
    1980.696169257164,
    'valid_losses': [2193.855884075165, 1980.696169257164, 2149.5138456374407],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.8017543859649123,
    'rec':
    0.5701809107922645,
    'f1':
    0.6664236237695954,
    'bacc':
    0.7517964070755665,
    'index':
    1,
    'valid_loss':
    1986.3672372549772,
    'valid_losses': [2062.817413210869, 1986.3672372549772, 2334.725053332746],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.7570422535211268,
    'rec':
    0.670617592014972,
    'f1':
    0.7112140258021833,
    'bacc':
    0.7844838107393657,
    'index':
    1,
    'valid_loss':
    1966.068681448698,
    'valid_losses': [2271.210763156414, 1966.068681448698, 2164.9356861412525],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.7623546511627907,
    'rec':
    0.654398003742982,
    'f1':
    0.7042631755622693,
    'bacc':
    0.7790257549651858,
    'index':
    1,
    'valid_loss':
    1978.4621387422085,
    'valid_losses':
    [2116.086154282093, 1978.4621387422085, 2145.4962778389454],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.7003021148036254,
    'rec':
    0.7230193387398628,
    'f1':
    0.7114794352363414,
    'bacc':
    0.7884395456221411,
    'index':
    0,
    'valid_loss':
    2067.5091626644135,
    'valid_losses': [2067.5091626644135, 2149.6319233477116, 2191.17778390646],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}, {
    'prec':
    0.69,
    'rec':
    0.7317529631940112,
    'f1':
    0.7102633969118983,
    'bacc':
    0.7882394751149785,
    'index':
    1,
    'valid_loss':
    2085.7454886734486,
    'valid_losses': [2116.344100818038, 2085.7454886734486, 2319.415672790259],
    'desc':
    'Sector_Standard_One_SEP_One_CLS_Pool_CLS 2vs2 early_stop'
}]

sector_2vs2_early_rate02 = [
    {
        'prec': 0.7491090520313614,
        'rec': 0.6556456643792888,
        'f1': 0.699268130405855,
        'bacc': 0.775966615336374,
        'index': 1,
        'valid_loss': 2831.0838955938816
    },
    {
        'prec': 0.764367816091954,
        'rec': 0.6637554585152838,
        'f1': 0.7105175292153589,
        'bacc': 0.7835571635534581,
        'index': 1,
        'valid_loss': 2789.694347858429
    },
    {
        'prec': 0.7475795297372061,
        'rec': 0.6743605739238927,
        'f1': 0.7090849458838964,
        'bacc': 0.783408925736254,
        'index': 1,
        'valid_loss': 2940.132279574871
    },
]

sector_2vs2_early_rate05 = [{
    'prec':
    0.7333333333333333,
    'rec':
    0.6999376169681847,
    'f1':
    0.7162464091924673,
    'bacc':
    0.7898627389496198,
    'index':
    1,
    'valid_loss':
    4327.87307703495,
    'valid_losses': [4345.722040891647, 4327.87307703495, 5519.813937470317],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7835463258785943,
    'rec':
    0.6119775421085465,
    'f1':
    0.687215411558669,
    'bacc':
    0.7660653768291701,
    'index':
    0,
    'valid_loss':
    4139.549301505089,
    'valid_losses': [4139.549301505089, 4564.369498342276, 5735.163819000125],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7725426482534524,
    'rec':
    0.5932626325639426,
    'f1':
    0.671136203246295,
    'bacc':
    0.7553820528759607,
    'index':
    0,
    'valid_loss':
    4176.3977382183075,
    'valid_losses': [4176.3977382183075, 4463.09445258975, 5482.3004958331585],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7420907840440165,
    'rec':
    0.6731129132875858,
    'f1':
    0.7059208374223096,
    'bacc':
    0.7813119074393144,
    'index':
    0,
    'valid_loss':
    4064.9906170368195,
    'valid_losses': [4064.9906170368195, 5037.436606556177, 5697.142442628741],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.6902963393375944,
    'rec':
    0.7411104179663132,
    'f1':
    0.7148014440433214,
    'bacc':
    0.7920342897138578,
    'index':
    1,
    'valid_loss':
    4282.6700212955475,
    'valid_losses': [4546.273358464241, 4282.6700212955475, 4867.585405558348],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7584471603163192,
    'rec':
    0.6581409856519027,
    'f1':
    0.7047428189712759,
    'bacc':
    0.7795713767387387,
    'index':
    1,
    'valid_loss':
    4288.63455080986,
    'valid_losses': [4408.9548716545105, 4288.63455080986, 5038.31439127028],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7510259917920656,
    'rec':
    0.6849656893325016,
    'f1':
    0.7164763458401305,
    'bacc':
    0.7888588022384371,
    'index':
    0,
    'valid_loss':
    4075.737256228924,
    'valid_losses': [4075.737256228924, 4447.060751795769, 5470.298394605517],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7228682170542635,
    'rec':
    0.6980661260137243,
    'f1':
    0.710250714059029,
    'bacc':
    0.7858332987169387,
    'index':
    1,
    'valid_loss':
    4259.321000397205,
    'valid_losses': [4395.793573498726, 4259.321000397205, 5390.6001929193735],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7505668934240363,
    'rec':
    0.619463505926388,
    'f1':
    0.6787423103212578,
    'bacc':
    0.7611165496632529,
    'index':
    0,
    'valid_loss':
    4176.120030045509,
    'valid_losses': [4176.120030045509, 4490.892331123352, 5181.815538018942],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7323446327683616,
    'rec':
    0.6469120399251403,
    'f1':
    0.6869824445180523,
    'bacc':
    0.7676221955665772,
    'index':
    0,
    'valid_loss':
    4386.949203252792,
    'valid_losses': [4386.949203252792, 4461.467592984438, 5459.6935785114765],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7944630872483222,
    'rec':
    0.5907673112913288,
    'f1':
    0.6776386404293381,
    'bacc':
    0.759290550165405,
    'index':
    1,
    'valid_loss':
    4157.189886271954,
    'valid_losses': [6062.060273647308, 4157.189886271954, 4992.48538698256],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7798092209856916,
    'rec':
    0.6119775421085465,
    'f1':
    0.6857742048234883,
    'bacc':
    0.7651814640418985,
    'index':
    0,
    'valid_loss':
    4357.340858340263,
    'valid_losses': [4357.340858340263, 4396.17576020956, 5298.7876684218645],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.6780346820809249,
    'rec':
    0.7317529631940112,
    'f1':
    0.7038703870387039,
    'bacc':
    0.7838199111786202,
    'index':
    0,
    'valid_loss':
    4254.285311698914,
    'valid_losses': [4254.285311698914, 4453.267217963934, 5296.663795799017],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7330623306233063,
    'rec':
    0.6749844042420462,
    'f1':
    0.7028255927249107,
    'bacc':
    0.7794485957568511,
    'index':
    1,
    'valid_loss':
    4281.8996178507805,
    'valid_losses': [5490.452702999115, 4281.8996178507805, 4845.096800267696],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7458448753462604,
    'rec':
    0.6718652526512788,
    'f1':
    0.7069248441089596,
    'bacc':
    0.7818666275041898,
    'index':
    0,
    'valid_loss':
    4166.445082604885,
    'valid_losses': [4166.445082604885, 5187.185514479876, 5811.650923274457],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.6954756380510441,
    'rec':
    0.7479725514660013,
    'f1':
    0.7207694619777578,
    'bacc':
    0.7966439068467308,
    'index':
    0,
    'valid_loss':
    4141.961904466152,
    'valid_losses': [4141.961904466152, 4910.5625423491, 5627.069515764713],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7111251580278128,
    'rec':
    0.7018091079226451,
    'f1':
    0.706436420722135,
    'bacc':
    0.7835798633307981,
    'index':
    0,
    'valid_loss':
    4257.183497071266,
    'valid_losses': [4257.183497071266, 4439.644009023905, 5577.119589909911],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.738795518207283,
    'rec':
    0.6581409856519027,
    'f1':
    0.6961398878258002,
    'bacc':
    0.77412058121723,
    'index':
    0,
    'valid_loss':
    4320.480976045132,
    'valid_losses': [4320.480976045132, 4340.609968036413, 5209.5207595825195],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.6984318455971049,
    'rec':
    0.7223955084217093,
    'f1':
    0.7102115915363384,
    'bacc':
    0.78753835527155,
    'index':
    0,
    'valid_loss':
    4264.165305733681,
    'valid_losses': [4264.165305733681, 4462.368834346533, 5489.5281620025635],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}, {
    'prec':
    0.7595204513399154,
    'rec':
    0.6718652526512788,
    'f1':
    0.7130089374379345,
    'bacc':
    0.7856969162490337,
    'index':
    1,
    'valid_loss':
    4178.1119602918625,
    'valid_losses': [4552.590218901634, 4178.1119602918625, 4994.409468099475],
    'desc':
    'Sector_Split 2vs2 rate=0.5 early_stop'
}]
